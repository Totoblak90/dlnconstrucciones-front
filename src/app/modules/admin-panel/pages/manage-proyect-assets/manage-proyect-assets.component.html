<div class="row">
  <div class="col" *ngIf="!isEditing && !isCreating">
    <div class="card">
      <div class="card-body">
        <app-table
          *ngIf="assets && tableData"
          title="Galería"
          [encabezadosTabla]="encabezadosTabla"
          [filasTabla]="tableData"
          [totalSection]="assets?.length!"
          (onRecargar)="recargarAssets($event)"
          (onCreate)="crearAsset()"
          (onEdit)="editarAssets($event)"
          (onDelete)="borrarAsset($event)"
        ></app-table>
      </div>
    </div>
  </div>
  <div class="col" *ngIf="isCreating || isEditing">
    <div class="card">
      <div class="card-header">
        <h1 class="primary-dark">{{ crudAction }} Galería</h1>
      </div>
      <div class="card-body">
        <form
          class="form p-t-20 form-material"
          [formGroup]="assetsForm"
          (ngSubmit)="formSubmit()"
        >
          <div class="card-body">
            <div class="row justify-content-center">
              <div class="col-8 text-center" (click)="imageInput.click()">
                <img class="img-responsive w-100" [src]="imageToShow" alt="Lote" />
                <input
                  [hidden]="true"
                  #imageInput
                  type="file"
                  formControlName="asset"
                  (change)="showSelectedImage($event)"
                />
                <div class="p-2">
                  <span class="text-danger" *ngIf="creationImageError">{{
                    creationImageError
                  }}</span>
                  <span class="text-danger" *ngIf="!acceptedFileTypes">
                    <p>Formatos aceptados para imágen: JPG, JPEG y PNG</p>
                    <P>Formatos aceptados para video: MOV, AVI, MP4, WMV, MKV</P>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer text-center">
            <button
              type="submit"
              class="btn btn-success waves-effect waves-light m-r-10 bgc-primary-dark"
            >
              Confirmar
            </button>
            <button
              type="button"
              (click)="recargarAssets(true)"
              class="btn btn-danger waves-effect waves-light m-r-10"
            >
              Volver
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
